
block content
    script(type='text/javascript', src='/javascripts/clientOrdersManagement.js')

    h2 Orders Management
    br
    div#ordersManagement
        table
            thead
                tr
                    th(colspan="7") Pending Orders
                tr
                    th OrderId
                    th ClientId
                    th Delivery Address
                    th Reception
                    th Due
                    th Items
                    th Action
            tbody
                each order, i in pendingOrders
                    tr
                        td #{order._id}
                        td #{order.client_id}
                        td #{order.delivery_address_name}
                        td #{order.order_timestamp}
                        td #{order.delivery_time}
                        td
                            each item, i in order.items
                                p #{item.item_id} X #{item.quantity}

                        td
                            button(type='button', onClick="changeOrderStatus('#{order._id}', 2);") Prepare Order



        br
        table
            thead
                tr
                    th(colspan="7") Orders In Preparation
                tr
                    th OrderId
                    th ClientId
                    th Delivery Address
                    th Reception
                    th Due
                    th Items
                    th Action
            tbody
                each order, i in inPreparationOrders
                    tr
                        td #{order._id}
                        td #{order.client_id}
                        td #{order.delivery_address_name}
                        td #{order.order_timestamp}
                        td #{order.delivery_time}
                        td
                            each item, i in order.items
                                p #{item.item_id} X #{item.quantity}

                        td
                            button(type='button', onClick="changeOrderStatus('#{order._id}', 3);") Set order to ready

        br
        h3 Orders Ready
        table
            thead
                tr
                    th(colspan="6") Orders Ready
                tr
                    th OrderId
                    th ClientId
                    th Delivery Address
                    th Reception
                    th Due
                    th Items
            tbody
                each order, i in readyOrders
                    tr
                        td #{order._id}
                        td #{order.client_id}
                        td #{order.delivery_address_name}
                        td #{order.order_timestamp}
                        td #{order.delivery_time}
                        td
                            each item, i in order.items
                                p #{item.item_id} X #{item.quantity}


        br
        table
            thead
                tr
                    th(colspan="6") Delivered Orders
                tr
                    th OrderId
                    th ClientId
                    th Delivery Address
                    th Reception
                    th Due
                    th Items
            tbody
                each order, i in deliveredOrders
                    tr
                        td #{order._id}
                        td #{order.client_id}
                        td #{order.delivery_address_name}
                        td #{order.order_timestamp}
                        td #{order.delivery_time}
                        td
                            each item, i in order.items
                                p #{item.item_id} X #{item.quantity}
